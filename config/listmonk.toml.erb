[app]
# Interface and port where the app will run its webserver.
address = "0.0.0.0:9000"

# Public root URL of the listmonk installation that'll be used
# in the messages for linking to images, unsubscribe page etc.
root = "<%= ENV['LISTMONK_root'] || "https://#{ENV['HEROKU_APP_NAME']}.herokuapp.com" %>"

<% require 'uri' # not sure why uri needs to be explicityl required %>
# Database.
[db]
host = "<%= URI.parse(ENV['DATABASE_URL']).host %>"
port = <%= URI.parse(ENV['DATABASE_URL']).port || 5432 %>
user = "<%= URI.parse(ENV['DATABASE_URL']).user %>"
password = "<%= URI.parse(ENV['DATABASE_URL']).password %>"
database = "<%= URI.parse(ENV['DATABASE_URL']).path.gsub(/^\//, '') %>"
ssl_mode = "require"
